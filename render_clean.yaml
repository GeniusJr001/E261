services:
  - type: web
    name: e261-voice-backend
    runtime: python3
    # Ensure Cargo uses /tmp so it can write in Render build container
    buildCommand: |
      export CARGO_HOME=/tmp/.cargo
      export CARGO_TARGET_DIR=/tmp/.cargo-target
      mkdir -p "$CARGO_HOME" "$CARGO_TARGET_DIR"
      pip install --upgrade pip
      pip install -r requirements.txt
      chmod +x start.sh
    startCommand: "bash start.sh"
    plan: free
    env: python
    region: oregon
    env_vars:
      - key: PYTHON_VERSION
        value: "3.11.9"
      # Do NOT put real secrets here. Set them in Render Dashboard (Environment â†’ Secrets).
      - key: ELEVEN_API_KEY
        value: ""
      - key: ELEVEN_VOICE_ID
        value: ""
      - key: ZOHO_CLIENT_ID
        value: ""
      - key: ZOHO_CLIENT_SECRET
        value: ""
      - key: ZOHO_REFRESH_TOKEN
        value: ""
